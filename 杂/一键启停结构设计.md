## 问题描述

 对于一个有多个组件协同工作的系统,如tomcat,在系统能对外提供服务,需要对系统的组件进行创建、初始化、启动、停止和销毁操作,也就是需要系统能管理各个组件的生命周期。同时需要做到代码结构清晰,方便的添加/删除组件以及组件启动/停止的不遗漏?



### 解决方案(Tomcat)

#### 1. 一键式启停  -- LifeCycle 接口 

 通过系统的大接口实现整个系统的操作,在父组件里调用子组件的方法,运用了**组合模式**

#### 2. 可拓展性

系统要具有可拓展性。上层组件的初始化等操作会触发子组件相应的操作,可以把子组件的生命周期的转变看作事件,为事件添加监听器,也就是**观察者模式**

对应到代码中就是为接口添加监听器和删除监听器

以下是Tomcat的生命周期管理总体类图



![img](file:///C:\Users\路瞳\Documents\Tencent Files\2326713669\Image\C2C\8FF75918173FCD965B2DA886A80EFDF0.jpg)  